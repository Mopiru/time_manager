{"remainingRequest":"C:\\Users\\mathp\\OneDrive\\Documents\\Epitech\\MSC1\\TimeManager\\task02\\time_manager\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\mathp\\OneDrive\\Documents\\Epitech\\MSC1\\TimeManager\\task02\\time_manager\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\mathp\\OneDrive\\Documents\\Epitech\\MSC1\\TimeManager\\task02\\time_manager\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\mathp\\OneDrive\\Documents\\Epitech\\MSC1\\TimeManager\\task02\\time_manager\\src\\components\\ClockManager.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\mathp\\OneDrive\\Documents\\Epitech\\MSC1\\TimeManager\\task02\\time_manager\\src\\components\\ClockManager.vue","mtime":1603950061507},{"path":"C:\\Users\\mathp\\OneDrive\\Documents\\Epitech\\MSC1\\TimeManager\\task02\\time_manager\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\mathp\\OneDrive\\Documents\\Epitech\\MSC1\\TimeManager\\task02\\time_manager\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\mathp\\OneDrive\\Documents\\Epitech\\MSC1\\TimeManager\\task02\\time_manager\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\mathp\\OneDrive\\Documents\\Epitech\\MSC1\\TimeManager\\task02\\time_manager\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvbWF0aHAvT25lRHJpdmUvRG9jdW1lbnRzL0VwaXRlY2gvTVNDMS9UaW1lTWFuYWdlci90YXNrMDIvdGltZV9tYW5hZ2VyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlkX2Nsb2NrOiAwCiAgICB9OwogIH0sCiAgcHJvcHM6IFsndXNlcklkJ10sCiAgbWV0aG9kczogewogICAgY2xvY2s6IGZ1bmN0aW9uIGNsb2NrKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVxdWVzdCwgZGF0ZXRpbWUsIGRhdGEsIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByZXF1ZXN0ID0gImh0dHA6Ly8xMjcuMC4wLjE6NDAwMC9hcGkvY2xvY2svOnVzZXJJRD8iLmNvbmNhdChfdGhpcy51c2VySWQpOwogICAgICAgICAgICAgICAgZGF0ZXRpbWUgPSBtb21lbnQoKTsKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICJ3b3JraW5nVGltZXMiOiB7CiAgICAgICAgICAgICAgICAgICAgInRpbWUiOiBkYXRldGltZS5mb3JtYXQoKSwKICAgICAgICAgICAgICAgICAgICAic3RhdHVzIjogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAidXNlciI6IF90aGlzLnVzZXJJZAogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdChyZXF1ZXN0LCBKU09OLnN0cmluZ2lmeShkYXRhKSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpcy5pZF9jbG9jayA9IHJlcy5kYXRhLmlkOyAvLyBzaSByaWVuIGRhdGEuZGF0YSBhIHRlc3QKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHJlZnJlc2g6IGZ1bmN0aW9uIHJlZnJlc2goKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHJlcXVlc3QsIGRhdGEsIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcmVxdWVzdCA9ICJodHRwOi8vMTI3LjAuMC4xOjQwMDAvYXBpL2Nsb2NrLzp1c2VySUQ/Ii5jb25jYXQoX3RoaXMyLnVzZXJJZCk7CiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICAid29ya2luZ1RpbWVzIjogewogICAgICAgICAgICAgICAgICAgICJ0aW1lIjogZGF0ZXRpbWUuZm9ybWF0KCksCiAgICAgICAgICAgICAgICAgICAgInN0YXR1cyI6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICJ1c2VyIjogX3RoaXMyLnVzZXJJZAogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QocmVxdWVzdCwgSlNPTi5zdHJpbmdpZnkoZGF0YSkpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["C:\\Users\\mathp\\OneDrive\\Documents\\Epitech\\MSC1\\TimeManager\\task02\\time_manager\\src\\components\\ClockManager.vue"],"names":[],"mappings":";;AAQA,OAAO,KAAP,MAAkB,OAAlB;AACA,OAAO,MAAP,MAAmB,QAAnB;AAEA,eAAe;AACb,EAAA,IADa,kBACL;AACN,WAAO;AACL,MAAA,QAAO,EAAI;AADN,KAAP;AAGD,GALY;AAMb,EAAA,KAAK,EAAE,CAAC,QAAD,CANM;AAOb,EAAA,OAAO,EAAC;AACA,IAAA,KADA,mBACQ;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACR,gBAAA,OADQ,GACE,2CAA2C,MAA3C,CAAkD,KAAI,CAAC,MAAvD,CADF;AAER,gBAAA,QAFQ,GAEG,MAAM,EAFT;AAGR,gBAAA,IAHQ,GAGA;AACV,kCAAgB;AACd,4BAAQ,QAAQ,CAAC,MAAT,EADM;AAEd,8BAAU,IAFI;AAGd,4BAAQ,KAAI,CAAC;AAHC;AADN,iBAHA;AAAA;AAAA,uBAUM,KAAK,CAAC,IAAN,CAAW,OAAX,EAAoB,IAAI,CAAC,SAAL,CAAe,IAAf,CAApB,CAVN;;AAAA;AAUN,gBAAA,GAVM;AAWZ,gBAAA,KAAI,CAAC,QAAL,GAAgB,GAAG,CAAC,IAAJ,CAAS,EAAzB,CAXY,CAYZ;;AAZY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAab,KAdK;AAeA,IAAA,OAfA,qBAeU;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACV,gBAAA,OADU,GACA,2CAA2C,MAA3C,CAAkD,MAAI,CAAC,MAAvD,CADA;AAEV,gBAAA,IAFU,GAEF;AACV,kCAAgB;AACd,4BAAQ,QAAQ,CAAC,MAAT,EADM;AAEd,8BAAU,KAFI;AAGd,4BAAQ,MAAI,CAAC;AAHC;AADN,iBAFE;AAAA;AAAA,uBASI,KAAK,CAAC,IAAN,CAAW,OAAX,EAAoB,IAAI,CAAC,SAAL,CAAe,IAAf,CAApB,CATJ;;AAAA;AASR,gBAAA,GATQ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUhB;AAzBM;AAPK,CAAf","sourcesContent":["<template>\n    <div>\n      <button @click=\"clock\">Start timer</button>\n      <button @click=\"refresh\">End timer</button>\n    </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport moment from 'moment'\n\nexport default {\n  data () { \n    return {\n      id_clock : 0\n    }\n  },\n  props: ['userId'],\n  methods:{\n    async clock() {\n      let request = \"http://127.0.0.1:4000/api/clock/:userID?\".concat(this.userId)\n      let datetime = moment();\n      let data =  { \n        \"workingTimes\": {\n          \"time\": datetime.format(),\n          \"status\": true,\n          \"user\": this.userId\n        }\n      }\n      const res = await axios.post(request, JSON.stringify(data))\n      this.id_clock = res.data.id;\n      // si rien data.data a test\n    },\n    async refresh() {\n      let request = \"http://127.0.0.1:4000/api/clock/:userID?\".concat(this.userId)\n      let data =  { \n        \"workingTimes\": {\n          \"time\": datetime.format(),\n          \"status\": false,\n          \"user\": this.userId\n        }\n      }\n      const res = await axios.post(request, JSON.stringify(data))\n    }\n  }\n}\n</script>"],"sourceRoot":""}]}